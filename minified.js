document.addEventListener("DOMContentLoaded",(()=>{const e={page0:[".pdf"]};function t(e){const t=document.querySelector("form#form_file_upload div#f1_upload_form div input");null===t.getAttribute("accept")&&t.setAttribute("accept",e)}function i(e,i){e.querySelector("a.fileuploadlink").addEventListener("click",(()=>{t(i)}));const r=new MutationObserver((r=>{for(const n of r)if("childList"===n.type){e.querySelector("a.fileuploadlink").addEventListener("click",(()=>{t(i)}))}})),n=e.getAttribute("sq_id"),o=e.querySelector(`#${n}-linknew`);r.observe(o,{childList:!0})}try{const t=document.querySelectorAll('tr[fieldtype="file"]'),r=Array.from(t).map((e=>e.id)),n=function(e,t){for(let i=0;i<t.length;i++)if(JSON.stringify(t[i])===JSON.stringify(e))return i}(r,function(e){const t=sessionStorage.getItem("fileFieldsPerPage");if(null===t)return sessionStorage.setItem("fileFieldsPerPage",JSON.stringify([e])),[e];{let i=JSON.parse(t),r=!1;for(const t of i)if(JSON.stringify(t)===JSON.stringify(e)){r=!0;break}return r||(i=[...i,e],sessionStorage.setItem("fileFieldsPerPage",JSON.stringify(i))),i}}(r)),o=e[`page${n}`],s=1===o.length;!function(e,t,i){const r=e.length-i.length,n=Math.abs(r);if(!Array.isArray(i))throw new Error("The 'acceptAttributeValues' value in the config must be an array [] of one or more strings. Correct formatting example: [\".pdf\"]");if(r>0&&!t)throw new Error(`The number of strings you provided in the 'acceptAttributeValues' is LESS than the amount of file upload fields in your project. Add ${n} more file type string(s) to the config.`);if(r<0)console.warn(`The number of strings you provided in 'acceptAttributeValues' exceeds the amount of file upload fields in your project by ${n}. The last ${n} file type(s) in your config will not be applied to any field of your project.`);else{if(0===i.length)throw new Error("File types not specified in the config. Specify desired file types as a string within the 'acceptAttributeValues' array (example: [\".pdf\"]).");if(t&&""===i[0])throw new Error("An empty string was passed in 'acceptAttributeValues'. Add a valid file type string to enforce file type uploads.")}}(t,s,o);for(let e=0;e<t.length;e++){const r=s?o[0]:o[e];i(t[e],r)}}catch(e){console.error(e)}}));