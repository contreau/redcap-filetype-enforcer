document.addEventListener("DOMContentLoaded",(()=>{const e={acceptAttributeValues:[".pdf"]};function t(e){const t=document.querySelector("form#form_file_upload div#f1_upload_form div input");null===t.getAttribute("accept")&&t.setAttribute("accept",e)}function r(e,r){e.querySelector("a.fileuploadlink").addEventListener("click",(()=>{t(r)}));const i=new MutationObserver((i=>{for(const o of i)if("childList"===o.type){e.querySelector("a.fileuploadlink").addEventListener("click",(()=>{t(r)}))}})),o=e.getAttribute("sq_id"),n=e.querySelector(`#${o}-linknew`);i.observe(n,{childList:!0})}try{const t=document.querySelectorAll('tr[fieldtype="file"]'),i=t.length-e.acceptAttributeValues.length,o=Math.abs(i),n=1===e.acceptAttributeValues.length;if(!Array.isArray(e.acceptAttributeValues))throw new Error("The 'acceptAttributeValues' value in the config must be an array [] of one or more strings. Correct formatting example: [\".pdf\"]");if(i>0&&!n)throw new Error(`The number of strings you provided in the 'acceptAttributeValues' is LESS than the amount of file upload fields in your project. Add ${o} more file type string(s) to the config.`);if(i<0)console.warn(`The number of strings you provided in 'acceptAttributeValues' exceeds the amount of file upload fields in your project by ${o}. The last ${o} file type(s) in your config will not be applied to any field of your project.`);else{if(0===e.acceptAttributeValues.length)throw new Error("File types not specified in the config. Specify desired file types as a string within the 'acceptAttributeValues' array (example: [\".pdf\"]).");if(n&&""===e.acceptAttributeValues[0])throw new Error("An empty string was passed in 'acceptAttributeValues'. Add a valid file type string to enforce file type uploads.")}for(let i=0;i<t.length;i++){const o=n?e.acceptAttributeValues[0]:e.acceptAttributeValues[i];r(t[i],o)}}catch(e){console.error(e)}}));