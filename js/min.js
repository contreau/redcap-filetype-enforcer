document.addEventListener("DOMContentLoaded",(()=>{const e={page0:[".pdf"]};function t(e){const t=document.querySelector("form#form_file_upload div#f1_upload_form div input");null===t.getAttribute("accept")&&t.setAttribute("accept",e)}function r(e,r){e.querySelector("a.fileuploadlink").addEventListener("click",(()=>{t(r)}));const i=new MutationObserver((i=>{for(const n of i)if("childList"===n.type){e.querySelector("a.fileuploadlink").addEventListener("click",(()=>{t(r)}))}})),n=e.getAttribute("sq_id"),o=e.querySelector(`#${n}-linknew`);i.observe(o,{childList:!0})}try{const t=document.querySelectorAll('tr[fieldtype="file"]'),i=Array.from(t).map((e=>e.id)),n=function(e,t){for(let r=0;r<t.length;r++)if(JSON.stringify(t[r])===JSON.stringify(e))return r}(i,function(e){const t=sessionStorage.getItem("fileFieldsPerPage");if(null===t)return sessionStorage.setItem("fileFieldsPerPage",JSON.stringify([e])),[e];{let r=JSON.parse(t),i=!1;for(const t of r)if(JSON.stringify(t)===JSON.stringify(e)){i=!0;break}return i||(r=[...r,e],sessionStorage.setItem("fileFieldsPerPage",JSON.stringify(r))),r}}(i)),o=e[`page${n}`],s=1===o.length;!function(e,t,r,i){const n=e.length-r.length,o=Math.abs(n);if(!Array.isArray(r))throw new Error(`The 'page${i}' value in the config must be an array [] of one or more strings. Correct formatting example: [".pdf"]`);if(n>0&&!t)throw new Error(`The number of strings you provided in the 'page${i}' array is LESS than the amount of file upload fields in your project. Add ${o} more file type string(s) to the config.`);if(n<0)console.warn(`The number of strings you provided in the 'page${i}' array exceeds the amount of file upload fields in your project by ${o}. The last ${o} file type(s) in the array will not be applied to any field of your project.`);else{if(0===r.length)throw new Error(`File types not specified in the config. Specify desired file types as a string within the 'page${i}' array (example: [".pdf"]).`);if(t&&""===r[0])throw new Error(`An empty string was passed in the 'page${i}' array. Add a valid file type string to enforce file type uploads.`)}}(t,s,o,n);for(let e=0;e<t.length;e++){const i=s?o[0]:o[e];r(t[e],i)}}catch(e){console.error(e)}}));